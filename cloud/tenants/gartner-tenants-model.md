# Gartner多租户模型
Gartner提出了7种多租户的部署和实现方式模型，该模型可以作为任何多租户环境的参考模型。在具体的实施中以及大型企业中，可以根据自身的需要来决定采用Gartner提出的何种多租户模型，或者几种多租户模型可以并存在一个云环境中。

首先，Gartner按照4个层次对多租户模型进行划分：

* 基础设施层（主要是指各种服务器）
* 数据层（即数据库层）
* 应用平台层（即应用运行的容器，通常也称为应用服务器）
* 应用逻辑层（即应用功能）

![](gartner_tenants_md.jpg)

1. **Shared Nothing**，即不共享任何资源。在这种模型中，从最底层的基础设施层，一直到最上端的应用逻辑层，每个租户均独享。这种模式也是传统的IT开发和部署模式。
2. **Shared Hardware**，即共享硬件资源，所有硬件服务器会形成一个硬件资源池，所有租户根据需要来共享这些资源。这种模式就是现在比较常见的**IaaS模式**。
3. **Shared OS**，即共享操作系统。在这种模型中，所有硬件资源均安装有相同的操作系统，通过在租户间切分和分配操作系统的进程来实现对计算资源的共享。与第二种模型一样，这种模型也主要集中在对底层计算资源的共享和分配上，而更高层次的内容均是各个租户独享的资源。需要单独购买和部署。
4. **Shared Database**，即共享数据库。在这种模型下，所有租户会共享一个数据库，各个租户自己的应用服务器以及运行于其中的应用会使用共享数据库中为该租户划分的数据资源。

5. **Shared Container**，即共享**容器**。注意，在这种模型下，各个租户只是共享应用的运行容器，而应用对应的数据库都是各个租户独享的，这一点与第六种模型是根本性的区别。在这种模型中，要求应用运行的容器是支持多租户访问的，即容器本身可以智能化的区分来自各个租户的请求。

6. **Shared Everything**，即全共享。在这种模型中，所有租户自顶向下共享所有资源。对于提供服务的一方来讲，可以最大限度的利用各种资源，并且依托支持多租户的应用容器，也可以只开发一套程序，部署一次，便可满足所有租户对公共应用的需要。

7. **Custom Multitenancy**，即定制化的多租户。在这种模型中，实现多租户的方法是在应用逻辑中改造已有的API，增加租户的维度。
